shader spiral_displace(
    float repeatU = 5.5,
    float repeatV = 1.0,
    float scale    = 1.0,
    output float disp = 0.0
)
{
    point worldPos = P;  // built-in
    float angle  = atan2(worldPos[0], worldPos[2]);
    float height = worldPos[1];
    float spiralCoord = mod((angle / (2*M_PI))*repeatU + height*repeatV, 1.0);
    disp = (0.5 + 0.5*sin(spiralCoord*2*M_PI)) * scale;
}
